{"version":3,"sources":["context.js","components/Auth/Signout.js","components/utils/Header.js","client.js","components/Pin/NoContent.js","components/Pin/CreatePin.js","graphql/mutation.js","components/utils/Blog.js","components/utils/PinIcon.js","components/utils/Map.js","graphql/queries.js","withRoot.js","pages/App.js","components/Auth/Login.js","pages/SplashPage.js","RouteSecured.js","reducer.js","serviceWorker.js","index.js"],"names":["Context","createContext","currentUser","isAuthenticated","draft","pins","currentPin","withStyles","root","cursor","display","buttonText","color","buttonIcon","marginLeft","_ref","classes","dispatch","useContext","react_default","a","createElement","google_login","onLogoutSuccess","type","console","log","render","_ref2","onClick","className","Typography_default","variant","ExitToApp_default","main","flexGrow","backgroundImage","grow","alignItems","icon","marginRight","fontSize","mobile","picture","height","backgroundColor","welcome","background","WebkitBackgroundClip","WebkitTextFillColor","created","marginTop","state","style","AppBar_default","position","Toolbar_default","component","noWrap","src","alt","name","Auth_Signout","BASE_URL","useClient","_useState","useState","_useState2","Object","slicedToArray","tokenId","setTokenId","useEffect","token","window","gapi","auth2","getAuthInstance","get","getAuthResponse","id_token","GraphQLClient","headers","authorization","theme","flexDirection","justifyContent","margin","spacing","unit","Explore_default","align","gutterBottom","form","paddingBottom","contentField","width","input","alignCenter","iconLarge","leftIcon","rightIcon","button","marginBottom","client","_useContext","title","setTitle","_useState3","_useState4","image","setImage","_useState5","_useState6","content","setContent","_useState7","_useState8","submitting","setSubmitting","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","e","url","_state$draft","latitude","longitude","variables","_ref3","createPin","wrap","_context","prev","next","preventDefault","handleImageUpload","sent","request","payload","handleDiscard","t0","error","stop","this","_x","apply","arguments","_ref4","_callee2","data","res","_context2","FormData","append","axios","post","abrupt","varient","LandscapeOutlined_default","TextField_default","label","placeholder","onChange","target","value","accept","id","files","htmlFor","Button_default","size","AddAPhotoTwoTone_default","multiline","rows","fullWidth","Clear_default","disabled","trim","SaveTwoTone_default","minWidth","maxWidth","maxHeight","overflowY","Content","CreatePin","NoContent","index_es","PinIcon","PlaceTwoTone_default","initialViewport","zoom","rootMobile","navigationControl","top","left","deleteIcon","popupImage","padding","objectFit","popupTab","getPins","popup","setPopup","viewport","setViewport","userPosition","setUserPosition","getUserPosition","navigator","geolocation","getCurrentPosition","_position$coords","coords","objectSpread","highlightNewPin","pin","diffInMin","Date","now","Number","createdAt","handleDeletePin","_ref5","_ref6","deletePin","pinId","_id","esm","assign","mapStyle","mapboxApiAccessToken","onViewportChange","lngLat","leftButton","_lngLat","offsetLeft","offsetTop","map","key","onSelectedPin","anchor","closeOnClick","onClose","format","author","DeleteTwoTone_default","utils_Blog","createMuiTheme","palette","primary","light","dark","secondary","green","typography","useNextVariants","withRoot","Component","props","styles","CssBaseline_default","Fragment","utils_Header","utils_Map","login","onSuccess","googleUser","self","isSignedIn","onFailure","clientId","Splash","Redirect","to","Auth_Login","RouteSecured","rest","objectWithoutProperties","Route","reducer","action","newPin","prevPins","filter","concat","toConsumableArray","deletedPin","filtered","payoad","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","catch","ReactDOM","initialState","_useReducer","useReducer","_useReducer2","BrowserRouter","context","Provider","Switch","src_RouteSecured","exact","path","App","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.fffa5b1a.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst Context = createContext({\r\n  currentUser: null,\r\n  isAuthenticated: false,\r\n  draft: null,\r\n  pins: [],\r\n  currentPin: null\r\n});\r\n\r\nexport default Context;\r\n","import React, { useContext } from 'react';\nimport { GoogleLogout } from 'react-google-login';\nimport { withStyles } from '@material-ui/core/styles';\nimport ExitToApp from '@material-ui/icons/ExitToApp';\nimport Typography from '@material-ui/core/Typography';\n\nimport Context from '../../context';\n\nconst Signout = ({ classes }) => {\n  const { dispatch } = useContext(Context);\n\n  const onLogout = () => {\n    dispatch({ type: 'SIGNOUT_USER' });\n    console.log('user signed out');\n  };\n\n  return (\n    <GoogleLogout\n      onLogoutSuccess={onLogout}\n      render={({ onClick }) => (\n        <span className={classes.root} onClick={onClick}>\n          <Typography variant=\"body1\" className={classes.buttonText}>\n            Signout\n          </Typography>\n          <ExitToApp className={classes.buttonIcon} />\n        </span>\n      )}\n    />\n  );\n};\n\nconst styles = {\n  root: {\n    cursor: 'pointer',\n    display: 'flex'\n  },\n  buttonText: {\n    color: 'white'\n  },\n  buttonIcon: {\n    marginLeft: '5px',\n    color: 'white'\n  }\n};\n\nexport default withStyles(styles)(Signout);\n","import React, { useContext } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nimport Typography from '@material-ui/core/Typography';\nimport Signout from '../Auth/Signout';\n\nimport Context from '../../context';\n\nconst Header = ({ classes }) => {\n  const { state } = useContext(Context);\n  const { currentUser } = state;\n  return (\n    <div\n      style={{\n        background: 'linear-gradient(to right,#33ccff 25%, #ff99cc 100%)'\n      }}\n    >\n      <AppBar position=\"static\">\n        <Toolbar>\n          <div className={classes.grow}>\n            <Typography\n              className={classes.welcome}\n              component=\"h1\"\n              variant=\"h3\"\n              color=\"inherit\"\n              noWrap\n            >\n              Live2Live\n            </Typography>\n            <Typography\n              className={classes.created}\n              component=\"p\"\n              variant=\"h6\"\n              color=\"inherit\"\n              noWrap\n            >\n              Created By: Shahzad\n            </Typography>\n          </div>\n\n          {currentUser && (\n            <div className={classes.grow}>\n              <img\n                className={classes.picture}\n                src={currentUser.picture}\n                alt={currentUser.name}\n              />\n              <Typography variant=\"h5\" color=\"inherit\" noWrap>\n                {currentUser.name}\n              </Typography>\n            </div>\n          )}\n          <Signout />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nconst styles = {\n  main: {\n    flexGrow: 1,\n    backgroundImage: 'linear-gradient(to right,#33ccff 25%, #ff99cc 100%)'\n  },\n  grow: {\n    flexGrow: 1,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  icon: {\n    marginRight: '5px',\n    color: 'green',\n    fontSize: 45\n  },\n  mobile: {\n    display: 'none'\n  },\n  picture: {\n    height: '50px',\n\n    marginRight: '10px',\n    backgroundColor: '#e1bee7'\n  },\n  welcome: {\n    background: 'linear-gradient(to right,#33ccff 25%, #ff99cc 100%)',\n    WebkitBackgroundClip: 'text',\n    WebkitTextFillColor: 'transparent'\n  },\n  created: {\n    marginLeft: '10px',\n    //color: 'green',\n    fontSize: 10,\n    marginTop: '25px',\n    color: '#cccc'\n  }\n};\n\nexport default withStyles(styles)(Header);\n","import { useState, useEffect } from 'react';\r\nimport { GraphQLClient } from 'graphql-request';\r\n\r\nexport const BASE_URL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? 'https://live2live.herokuapp.com/graphql'\r\n    : 'http://localhost:4000/graphql';\r\n\r\nexport const useClient = () => {\r\n  const [tokenId, setTokenId] = useState('');\r\n\r\n  useEffect(() => {\r\n    const token = window.gapi.auth2\r\n      .getAuthInstance()\r\n      .currentUser.get()\r\n      .getAuthResponse().id_token;\r\n    setTokenId(token);\r\n  }, []);\r\n\r\n  return new GraphQLClient(BASE_URL, {\r\n    headers: { authorization: tokenId }\r\n  });\r\n};\r\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport ExploreIcon from '@material-ui/icons/Explore';\nimport Typography from '@material-ui/core/Typography';\n\nconst NoContent = ({ classes }) => (\n  <div className={classes.root}>\n    <ExploreIcon className={classes.icon} />\n    <Typography\n      noWrap\n      component=\"h2\"\n      variant=\"h6\"\n      align=\"center\"\n      color=\"textPrimary\"\n      gutterBottom\n    >\n      Click on the map to add an Event\n    </Typography>\n  </div>\n);\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    justifyContent: 'center'\n  },\n  icon: {\n    margin: theme.spacing.unit,\n    fontSize: '80px',\n    color: 'black'\n  }\n});\n\nexport default withStyles(styles)(NoContent);\n","import React, { useState, useContext } from 'react';\nimport axios from 'axios';\n\nimport Context from '../../context';\nimport { CREATE_PIN_MUTATION } from '../../graphql/mutation';\nimport { useClient } from '../../client';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhotoTwoTone';\nimport LandscapeIcon from '@material-ui/icons/LandscapeOutlined';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport SaveIcon from '@material-ui/icons/SaveTwoTone';\n\nconst CreatePin = ({ classes }) => {\n  const client = useClient();\n  const { state, dispatch } = useContext(Context);\n  const [title, setTitle] = useState('');\n  const [image, setImage] = useState('');\n  const [content, setContent] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n\n  const handleSubmit = async e => {\n    try {\n      e.preventDefault();\n      setSubmitting(true);\n\n      const url = await handleImageUpload();\n      const { latitude, longitude } = state.draft;\n      const variables = {\n        title,\n        image: url,\n        content,\n        latitude,\n        longitude\n      };\n      const { createPin } = await client.request(\n        CREATE_PIN_MUTATION,\n        variables\n      );\n\n      dispatch({\n        type: 'CREATE_PIN',\n        payload: createPin\n      });\n\n      handleDiscard();\n    } catch (error) {\n      setSubmitting(false);\n      console.error('error creating pin', error);\n    }\n  };\n\n  const handleDiscard = () => {\n    setTitle('');\n    setImage('');\n    setContent('');\n    dispatch({ type: 'DELETE_DRAFT' });\n  };\n\n  const handleImageUpload = async () => {\n    const data = new FormData();\n    data.append('file', image);\n    data.append('upload_preset', 'live2live');\n    data.append('cloud_name', 'inightelf');\n    const res = await axios.post(\n      'https://api.cloudinary.com/v1_1/inightelf/image/upload',\n      data\n    );\n    return res.data.url;\n  };\n\n  return (\n    <form className={classes.form}>\n      <Typography\n        className={classes.alignCenter}\n        component=\"h2\"\n        varient=\"h6\"\n        color=\"secondary\"\n      >\n        <LandscapeIcon className={classes.iconLarge} />\n      </Typography>\n      <div>\n        <TextField\n          name=\"title\"\n          label=\"Event\"\n          placeholder=\"Event name\"\n          onChange={e => setTitle(e.target.value)}\n        />\n        <input\n          className={classes.input}\n          accept=\"image/*\"\n          id=\"image\"\n          type=\"file\"\n          onChange={e => setImage(e.target.files[0])}\n        />\n        <label htmlFor=\"image\">\n          <Button\n            style={{ color: image && 'red' }}\n            className={classes.button}\n            component=\"span\"\n            size=\"small\"\n          >\n            <AddAPhotoIcon />\n          </Button>\n        </label>\n      </div>\n      <div className={classes.contentField}>\n        <TextField\n          multiline\n          rows=\"5\"\n          margin=\"normal\"\n          fullWidth\n          name=\"content\"\n          label=\"Place\"\n          varient=\"outlined\"\n          onChange={e => setContent(e.target.value)}\n        />\n      </div>\n      <div>\n        <Button\n          onClick={handleDiscard}\n          className={classes.button}\n          varient=\"contained\"\n          color=\"primary\"\n        >\n          <ClearIcon className={classes.leftIcon} />\n          Discard\n        </Button>\n        <Button\n          type=\"submit\"\n          className={classes.button}\n          varient=\"contained\"\n          color=\"secondary\"\n          disabled={!title.trim() || !image || !content.trim() || submitting}\n          onClick={handleSubmit}\n        >\n          Submit\n          <SaveIcon className={classes.rightIcon} />\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nconst styles = theme => ({\n  form: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column',\n    paddingBottom: theme.spacing.unit\n  },\n  contentField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: '95%'\n  },\n  input: {\n    display: 'none'\n  },\n  alignCenter: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  iconLarge: {\n    fontSize: 40,\n    marginRight: theme.spacing.unit\n  },\n  leftIcon: {\n    fontSize: 20,\n    marginRight: theme.spacing.unit\n  },\n  rightIcon: {\n    fontSize: 20,\n    marginLeft: theme.spacing.unit\n  },\n  button: {\n    marginTop: theme.spacing.unit * 2,\n    marginBottom: theme.spacing.unit * 2,\n    marginRight: theme.spacing.unit,\n    marginLeft: 0\n  }\n});\n\nexport default withStyles(styles)(CreatePin);\n","export const CREATE_PIN_MUTATION = `\r\n  mutation($title: String!, $image: String!, $content: String!, $latitude: Float!, $longitude: Float!) {\r\n    createPin(input: {\r\n      title: $title,\r\n      image: $image,\r\n      content: $content,\r\n      latitude: $latitude,\r\n      longitude: $longitude\r\n    }) {\r\n      _id\r\n      createdAt\r\n      title \r\n      image\r\n      content\r\n      latitude\r\n      longitude\r\n      author {\r\n        _id\r\n        name\r\n        email\r\n        picture\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DELETE_PIN_MUTATION = `\r\n  mutation($pinId: ID!){\r\n    deletePin(pinId: $pinId) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n","import React, { useContext } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Paper } from '@material-ui/core';\n\nimport Context from '../../context';\nimport NoContent from '../Pin/NoContent';\nimport CreatePin from '../Pin/CreatePin';\n\nconst Blog = ({ classes }) => {\n  const { state } = useContext(Context);\n  const { draft } = state;\n\n  let Content;\n  if (!draft) {\n    Content = NoContent;\n  } else if (draft) {\n    Content = CreatePin;\n  }\n  return (\n    <Paper className={classes.root}>\n      <Content />\n    </Paper>\n  );\n};\n\nconst styles = {\n  root: {\n    minWidth: 350,\n    maxWidth: 400,\n    maxHeight: 'calc(100vh - 64px)',\n    overflowY: 'scroll',\n    display: 'flex',\n    justifyContent: 'center'\n  }\n};\n\nexport default withStyles(styles)(Blog);\n","import React from 'react';\nimport PlaceTwoTone from '@material-ui/icons/PlaceTwoTone';\n\nexport default ({ size, color, onClick }) => (\n  <PlaceTwoTone onClick={onClick} style={{ fontSize: size, color }} />\n);\n","import React, { useState, useEffect, useContext } from 'react';\nimport ReactMapGl, { Marker, Popup } from 'react-map-gl';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { useClient } from '../../client';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport DeleteIcon from '@material-ui/icons/DeleteTwoTone';\nimport Blog from './Blog';\nimport PinIcon from './PinIcon';\nimport Context from '../../context';\nimport { DELETE_PIN_MUTATION } from '../../graphql/mutation';\nimport { GET_PINS_QUERY } from '../../graphql/queries';\nimport diffInMin from 'date-fns/difference_in_minutes';\nimport { format } from 'date-fns';\n\nconst initialViewport = {\n  latitude: 37.7577,\n  longitude: -122.4376,\n  zoom: 13\n};\n\nconst Map = ({ classes }) => {\n  useEffect(() => {\n    getPins();\n  }, []);\n  const [popup, setPopup] = useState(null);\n  const client = useClient();\n  const { state, dispatch } = useContext(Context);\n\n  const [viewport, setViewport] = useState(initialViewport);\n\n  const [userPosition, setUserPosition] = useState(null);\n\n  useEffect(() => {\n    getUserPosition();\n  }, []);\n\n  const getPins = async () => {\n    const { getPins } = await client.request(GET_PINS_QUERY);\n    dispatch({\n      type: 'GET_PINS',\n      payload: getPins\n    });\n  };\n\n  const getUserPosition = () => {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const { latitude, longitude } = position.coords;\n        setViewport({ ...viewport, latitude, longitude });\n        setUserPosition({ latitude, longitude });\n      });\n    }\n  };\n\n  const handleMapClick = ({ lngLat, leftButton }) => {\n    if (!leftButton) return;\n    if (!state.draft) {\n      dispatch({ type: 'CREATE_DRAFT' });\n    }\n    const [longitude, latitude] = lngLat;\n    dispatch({\n      type: 'UPDATE_DRAFT_LOCATION',\n      payload: { longitude, latitude }\n    });\n  };\n\n  const highlightNewPin = pin => {\n    return diffInMin(Date.now(), Number(pin.createdAt)) <= 30\n      ? 'black'\n      : 'purple';\n  };\n\n  const onSelectedPin = pin => {\n    setPopup(pin);\n    dispatch({\n      type: 'SET_PIN',\n      payload: pin\n    });\n  };\n\n  const isAuthUser = () => state.currentUser._id === popup.author._id;\n\n  const handleDeletePin = async pin => {\n    const variables = { pinId: pin._id };\n    const { deletePin } = await client.request(DELETE_PIN_MUTATION, variables);\n    dispatch({\n      type: 'DELETE_PIN',\n      payload: deletePin\n    });\n    setPopup(null);\n  };\n\n  return (\n    <div className={classes.root}>\n      <ReactMapGl\n        width=\"100vw\"\n        height=\"calc(100vh - 64px)\"\n        mapStyle=\"mapbox://styles/mapbox/streets-v9\"\n        mapboxApiAccessToken=\"pk.eyJ1IjoiaW5pZ2h0ZWxmIiwiYSI6ImNqdWRtMWM3ODB2aDA0ZHF5aGU1dTZidjkifQ.DrZulGHSR0xb_I3mAkpWmw\"\n        onViewportChange={viewport => setViewport(viewport)}\n        onClick={handleMapClick}\n        {...viewport}\n      >\n        {/* Pin for User's Current Position */}\n        {userPosition && (\n          <Marker\n            latitude={userPosition.latitude}\n            longitude={userPosition.longitude}\n            offsetLeft={-20}\n            offsetTop={-35}\n          >\n            <PinIcon size={40} color=\"green\" />\n          </Marker>\n        )}\n\n        {/* pin */}\n        {state.draft && (\n          <Marker\n            latitude={state.draft.latitude}\n            longitude={state.draft.longitude}\n            offsetLeft={-20}\n            offsetTop={-35}\n          >\n            <PinIcon size={40} color=\"blue\" />\n          </Marker>\n        )}\n        {/* created pins */}\n        {state.pins.map(pin => (\n          <Marker\n            key={pin._id}\n            latitude={pin.latitude}\n            longitude={pin.longitude}\n            offsetLeft={-20}\n            offsetTop={-35}\n          >\n            <PinIcon\n              onClick={() => onSelectedPin(pin)}\n              size={40}\n              color={highlightNewPin(pin)}\n            />\n          </Marker>\n        ))}\n\n        {/* Popup */}\n        {popup && (\n          <Popup\n            anchor=\"top\"\n            latitude={popup.latitude}\n            longitude={popup.longitude}\n            closeOnClick={false}\n            onClose={() => setPopup(null)}\n            style={{ width: '100px' }}\n          >\n            <img\n              className={classes.popupImage}\n              src={popup.image}\n              alt={popup.title}\n            />\n            <div className={classes.popupTab}>\n              <Typography>{popup.title}</Typography>\n              <Typography>{popup.content}</Typography>\n              <Typography>\n                {format(Number(popup.createdAt), 'MMM Do, YYYY')}\n              </Typography>\n              {isAuthUser() && (\n                <Button onClick={() => handleDeletePin(popup)}>\n                  <DeleteIcon className={classes.deleteIcon} />\n                </Button>\n              )}\n            </div>\n          </Popup>\n        )}\n      </ReactMapGl>\n\n      <Blog />\n    </div>\n  );\n};\n\nconst styles = {\n  root: {\n    display: 'flex'\n  },\n  rootMobile: {\n    display: 'flex',\n    flexDirection: 'column-reverse'\n  },\n  navigationControl: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    margin: '1em'\n  },\n  deleteIcon: {\n    color: 'red'\n  },\n  popupImage: {\n    padding: '0.4em',\n    height: 200,\n    width: 200,\n    objectFit: 'cover'\n  },\n  popupTab: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column'\n  }\n};\n\nexport default withStyles(styles)(Map);\n","export const SELF_QUERY = `\r\n{\r\n  self {\r\n    _id\r\n    name\r\n    email\r\n    picture\r\n  }\r\n}\r\n`;\r\n\r\nexport const GET_PINS_QUERY = `\r\n{\r\n  getPins {\r\n    _id\r\n    createdAt\r\n    title\r\n    image\r\n    content\r\n    latitude\r\n    longitude\r\n    author {\r\n      _id\r\n      name\r\n      email\r\n      picture\r\n    }\r\n    comments {\r\n      text\r\n      createdAt\r\n      author {\r\n        _id\r\n        name\r\n        picture\r\n      }\r\n    }\r\n  }\r\n}\r\n`;\r\n","import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport green from '@material-ui/core/colors/green';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#616161',\n      main: '#212121',\n      dark: '#424242'\n    },\n    secondary: {\n      light: green[300],\n      main: green[500],\n      dark: green[700]\n    }\n  },\n  typography: {\n    useNextVariants: true\n  }\n});\n\nfunction withRoot(Component) {\n  function WithRoot(props) {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <Component {...props} />\n      </MuiThemeProvider>\n    );\n  }\n\n  return WithRoot;\n}\n\nexport default withRoot;\n","import React from 'react';\nimport Header from '../components/utils/Header';\nimport Map from '../components/utils/Map';\n\nimport withRoot from '../withRoot';\n\nconst App = () => {\n  return (\n    <>\n      <Header />\n      <Map />\n    </>\n  );\n};\n\nexport default withRoot(App);\n","import React, { useContext } from 'react';\nimport { GraphQLClient } from 'graphql-request';\nimport { GoogleLogin } from 'react-google-login';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nimport Context from '../../context';\nimport { SELF_QUERY } from '../../graphql/queries';\nimport { BASE_URL } from '../../client';\n\nconst Login = ({ classes }) => {\n  const { dispatch } = useContext(Context);\n  const onSuccess = async googleUser => {\n    try {\n      const tokenId = googleUser.getAuthResponse().id_token;\n      //console.log({ tokenId });\n      const client = new GraphQLClient(BASE_URL, {\n        headers: { authorization: tokenId }\n      });\n      const data = await client.request(SELF_QUERY);\n      //console.log({ data });\n      dispatch({ type: 'USER_LOGIN', payload: data.self });\n      dispatch({ type: 'LOGGED_IN', payload: googleUser.isSignedIn() });\n    } catch (error) {\n      onFailure(error);\n    }\n  };\n\n  const onFailure = error => {\n    console.error('Error logging in', error);\n    dispatch({ type: 'LOGGED_IN', payload: false });\n  };\n\n  return (\n    <div className={classes.login}>\n      <Typography component=\"h1\" variant=\"h3\" gutterBottom noWrap>\n        <div className={classes.welcome}>Welcome to Live2Live</div>\n      </Typography>\n      <GoogleLogin\n        clientId=\"51693100956-43t4hnhtlqbhmoa9pelerdaq9nk0iee2.apps.googleusercontent.com\"\n        onSuccess={onSuccess}\n        onFailure={onFailure}\n        isSignedIn={true}\n      />\n    </div>\n  );\n};\n\nconst styles = {\n  login: {\n    height: '100vh',\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  welcome: {\n    background: 'linear-gradient(to right,#33ccff 25%, #ff99cc 100%)',\n    WebkitBackgroundClip: 'text',\n    WebkitTextFillColor: 'transparent'\n  }\n};\n\nexport default withStyles(styles)(Login);\n","import React, { useContext } from 'react';\nimport Login from '../components/Auth/Login';\nimport Context from '../context';\nimport { Redirect } from 'react-router-dom';\n\nconst Splash = () => {\n  const { state } = useContext(Context);\n  return state.isAuthenticated ? <Redirect to=\"/\" /> : <Login />;\n};\n\nexport default Splash;\n","import React, { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Context from './context.js';\r\n\r\nconst RouteSecured = ({ component: Component, ...rest }) => {\r\n  const { state } = useContext(Context);\r\n  return (\r\n    <Route\r\n      render={props =>\r\n        !state.isAuthenticated ? (\r\n          <Redirect to=\"/login\" />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RouteSecured;\r\n","export default function reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'USER_LOGIN':\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload\r\n      };\r\n    case 'LOGGED_IN':\r\n      return {\r\n        ...state,\r\n        isAuthenticated: action.payload\r\n      };\r\n    case 'SIGNOUT_USER':\r\n      return {\r\n        ...state,\r\n        isAuthenticated: false,\r\n        currentUser: null\r\n      };\r\n    case 'CREATE_PIN':\r\n      const newPin = action.payload;\r\n      const prevPins = state.pins.filter(pin => pin._id !== newPin._id);\r\n      return {\r\n        ...state,\r\n        pins: [...prevPins, newPin]\r\n      };\r\n    case 'DELETE_PIN':\r\n      const deletedPin = action.payload;\r\n      const filtered = state.pins.filter(pin => pin._id !== deletedPin._id);\r\n      return {\r\n        ...state,\r\n        pins: filtered,\r\n        currentPin: null\r\n      };\r\n    case 'SET_PIN':\r\n      return {\r\n        ...state,\r\n        currentPin: action.payoad,\r\n        draft: null\r\n      };\r\n    case 'CREATE_DRAFT':\r\n      return {\r\n        ...state,\r\n        currentPin: null,\r\n        draft: {\r\n          longitude: 0,\r\n          latitude: 0\r\n        }\r\n      };\r\n    case 'UPDATE_DRAFT_LOCATION':\r\n      return {\r\n        ...state,\r\n        draft: action.payload\r\n      };\r\n    case 'DELETE_DRAFT':\r\n      return {\r\n        ...state,\r\n        draft: null\r\n      };\r\n    case 'GET_PINS':\r\n      return {\r\n        ...state,\r\n        pins: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { useContext, useReducer } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport App from './pages/App';\nimport Splash from './pages/SplashPage';\nimport RouteSecured from './RouteSecured';\nimport Context from './context';\nimport reducer from './reducer';\n\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport * as serviceWorker from './serviceWorker';\n\nconst Root = () => {\n  const initialState = useContext(Context);\n  const [state, dispatch] = useReducer(reducer, initialState);\n  //console.log({ state });\n  return (\n    <Router>\n      <Context.Provider value={{ state, dispatch }}>\n        <Switch>\n          <RouteSecured exact path=\"/\" component={App} />\n          <Route path=\"/login\" component={Splash} />\n        </Switch>\n      </Context.Provider>\n    </Router>\n  );\n};\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}